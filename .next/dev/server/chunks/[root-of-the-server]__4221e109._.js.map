{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///home/ashish/Desktop/ashishkr.com/lib/blog-data.ts"],"sourcesContent":["export interface BlogPostData {\n  slug: string\n  title: string\n  excerpt: string\n  date: string\n  tags: string[]\n  content: string\n}\n\n// Add your blog posts here as an admin\n// Each post has frontmatter-like properties and markdown content\nexport const blogPosts: BlogPostData[] = [\n  {\n    slug: \"building-scalable-ml-pipelines\",\n    title: \"Building Scalable ML Pipelines in Production\",\n    excerpt:\n      \"A deep dive into designing and implementing machine learning pipelines that can handle real-world scale and complexity.\",\n    date: \"2024-11-15\",\n    tags: [\"ML\", \"ENGINEERING\", \"PYTHON\"],\n    content: `\nMachine learning in production is vastly different from Jupyter notebook experiments. After years of building ML systems at scale, here are the patterns that actually work.\n\n## The Reality of Production ML\n\nMost ML tutorials end where the real challenges begin. Getting a model to work locally is maybe 10% of the effort. The remaining 90% involves:\n\n- **Data pipeline reliability** - Your model is only as good as your data\n- **Feature consistency** - Training/serving skew is a silent killer\n- **Model versioning** - Because you will need to rollback\n- **Monitoring** - Detecting drift before it impacts users\n\n## Architecture That Scales\n\nThe key insight is treating ML systems as software systems first. This means:\n\n### 1. Feature Stores Are Non-Negotiable\n\n\\`\\`\\`python\nfrom feast import FeatureStore\n\nstore = FeatureStore(repo_path=\".\")\n\n# Consistent features for training and serving\ntraining_df = store.get_historical_features(\n    entity_df=entity_df,\n    features=[\"user_features:age\", \"user_features:activity_score\"]\n)\n\\`\\`\\`\n\n### 2. Immutable Data Pipelines\n\nEvery transformation should be versioned and reproducible. Use tools like DVC or MLflow to track:\n\n- Raw data versions\n- Preprocessing steps\n- Feature engineering logic\n\n### 3. Shadow Deployments\n\nNever ship directly to production. Run new models in shadow mode first:\n\n\\`\\`\\`python\n# Log predictions without affecting users\nshadow_prediction = new_model.predict(features)\nlog_shadow_result(shadow_prediction, production_prediction)\n\\`\\`\\`\n\n## Monitoring Is Not Optional\n\nSet up alerts for:\n\n- **Input drift** - Feature distributions changing\n- **Output drift** - Prediction distribution shifts\n- **Performance metrics** - Latency, throughput, error rates\n\nThe goal is catching issues before your users do.\n\n## Conclusion\n\nProduction ML is software engineering with statistical challenges. Treat it accordingly, and you'll build systems that actually work at scale.\n    `.trim(),\n  },\n  {\n    slug: \"typescript-patterns-for-better-code\",\n    title: \"TypeScript Patterns That Changed How I Code\",\n    excerpt:\n      \"Advanced TypeScript patterns and techniques that improve code quality, maintainability, and developer experience.\",\n    date: \"2024-10-28\",\n    tags: [\"TYPESCRIPT\", \"PATTERNS\", \"DX\"],\n    content: `\nAfter writing TypeScript for several years, certain patterns have become essential to how I build software. These aren't just type tricks—they fundamentally change how you think about code structure.\n\n## Discriminated Unions for State\n\nStop using boolean flags for state management:\n\n\\`\\`\\`typescript\n// Instead of this\ninterface DataState {\n  loading: boolean;\n  error: Error | null;\n  data: User[] | null;\n}\n\n// Do this\ntype DataState =\n  | { status: 'idle' }\n  | { status: 'loading' }\n  | { status: 'error'; error: Error }\n  | { status: 'success'; data: User[] };\n\\`\\`\\`\n\nNow TypeScript enforces that you handle every state correctly.\n\n## Builder Pattern with Type Safety\n\n\\`\\`\\`typescript\nclass QueryBuilder<T extends object = {}> {\n  private query: T = {} as T;\n\n  where<K extends string, V>(\n    key: K,\n    value: V\n  ): QueryBuilder<T & Record<K, V>> {\n    return Object.assign(this, {\n      query: { ...this.query, [key]: value }\n    });\n  }\n\n  build(): T {\n    return this.query;\n  }\n}\n\n// Usage - fully typed!\nconst query = new QueryBuilder()\n  .where('name', 'John')\n  .where('age', 30)\n  .build();\n// type: { name: string; age: number }\n\\`\\`\\`\n\n## Branded Types for Domain Safety\n\nPrevent mixing up primitive types that represent different things:\n\n\\`\\`\\`typescript\ntype Brand<T, B> = T & { __brand: B };\n\ntype UserId = Brand<string, 'UserId'>;\ntype OrderId = Brand<string, 'OrderId'>;\n\nfunction getUser(id: UserId) { /* ... */ }\nfunction getOrder(id: OrderId) { /* ... */ }\n\nconst userId = 'u_123' as UserId;\nconst orderId = 'o_456' as OrderId;\n\ngetUser(userId);  // OK\ngetUser(orderId); // Type error!\n\\`\\`\\`\n\n## The Result Type\n\nHandle errors explicitly instead of throwing:\n\n\\`\\`\\`typescript\ntype Result<T, E = Error> =\n  | { ok: true; value: T }\n  | { ok: false; error: E };\n\nasync function fetchUser(id: string): Promise<Result<User>> {\n  try {\n    const user = await api.getUser(id);\n    return { ok: true, value: user };\n  } catch (e) {\n    return { ok: false, error: e as Error };\n  }\n}\n\\`\\`\\`\n\n## Conclusion\n\nThese patterns make impossible states unrepresentable. That's the real power of TypeScript—not just catching typos, but encoding business logic into the type system.\n    `.trim(),\n  },\n  {\n    slug: \"lessons-from-startup-engineering\",\n    title: \"Engineering Lessons from Three Startups\",\n    excerpt:\n      \"Hard-won insights about building products, managing technical debt, and scaling teams from my startup journey.\",\n    date: \"2024-09-12\",\n    tags: [\"STARTUPS\", \"LEADERSHIP\", \"CAREER\"],\n    content: `\nI've been the first engineer at three startups. Each one taught me something different about building products under pressure.\n\n## Lesson 1: Ship First, Optimize Later\n\nAt my first startup, we spent 3 months building a \"scalable\" architecture for an app that had zero users. We ran out of runway before finding product-market fit.\n\nThe fix: Build the simplest thing that could work. You can always refactor when you have users and revenue. I now use this rule:\n\n> If you're not embarrassed by v1, you shipped too late.\n\n## Lesson 2: Technical Debt Is a Business Decision\n\nNot all debt is bad. Taking on technical debt to ship faster can be the right call—if you're intentional about it.\n\nWhat I track:\n- **Known shortcuts** - Document them in code comments\n- **Future cost** - Rough estimate of cleanup time\n- **Trigger for payback** - \"Refactor when we hit X users\"\n\nThe key is making debt visible and planned, not accidental.\n\n## Lesson 3: Communication Scales Harder Than Code\n\nWith 3 engineers, everyone knows everything. With 15, you need processes:\n\n- **RFCs for big decisions** - Write it down, get async feedback\n- **Runbooks for operations** - Because 3 AM incidents happen\n- **Architecture decision records** - Future you will thank past you\n\n## Lesson 4: Hire for Slope, Not Intercept\n\nThe best hires I've made were people who learned fast, not people who already knew everything. In a startup, the problems change every quarter. Adaptability beats expertise.\n\n## Lesson 5: Your First Architecture Will Be Wrong\n\nAccept it. Plan for it. Make it easy to change things:\n\n- Keep services loosely coupled\n- Use feature flags for new functionality\n- Design databases for migration, not permanence\n\n## The Meta-Lesson\n\nStartups are about learning fast. Every technical decision should optimize for speed of learning, not perfection. Perfect code that ships too late helps no one.\n\nWhat matters: solving real problems for real users, as quickly as possible.\n    `.trim(),\n  },\n]\n"],"names":[],"mappings":";;;;AAWO,MAAM,YAA4B;IACvC;QACE,MAAM;QACN,OAAO;QACP,SACE;QACF,MAAM;QACN,MAAM;YAAC;YAAM;YAAe;SAAS;QACrC,SAAS,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA6DV,CAAC,CAAC,IAAI;IACR;IACA;QACE,MAAM;QACN,OAAO;QACP,SACE;QACF,MAAM;QACN,MAAM;YAAC;YAAc;YAAY;SAAK;QACtC,SAAS,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA+FV,CAAC,CAAC,IAAI;IACR;IACA;QACE,MAAM;QACN,OAAO;QACP,SACE;QACF,MAAM;QACN,MAAM;YAAC;YAAY;YAAc;SAAS;QAC1C,SAAS,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA+CV,CAAC,CAAC,IAAI;IACR;CACD"}},
    {"offset": {"line": 295, "column": 0}, "map": {"version":3,"sources":["file:///home/ashish/Desktop/ashishkr.com/lib/blog.ts"],"sourcesContent":["import { blogPosts, type BlogPostData } from \"./blog-data\"\n\nexport interface BlogPost {\n  slug: string\n  title: string\n  excerpt: string\n  date: string\n  readTime: string\n  tags: string[]\n  content: string\n  rawContent: string\n}\n\nfunction calculateReadTime(content: string): string {\n  const wordCount = content.split(/\\s+/).length\n  const minutes = Math.ceil(wordCount / 200)\n  return `${minutes} min read`\n}\n\nfunction generateRawMarkdown(post: BlogPostData): string {\n  return `---\ntitle: \"${post.title}\"\nexcerpt: \"${post.excerpt}\"\ndate: \"${post.date}\"\ntags: [${post.tags.map((t) => `\"${t}\"`).join(\", \")}]\n---\n\n${post.content}`\n}\n\nexport function getAllBlogSlugs(): string[] {\n  return blogPosts.map((post) => post.slug)\n}\n\nexport function getBlogBySlug(slug: string): BlogPost | null {\n  const post = blogPosts.find((p) => p.slug === slug)\n\n  if (!post) {\n    return null\n  }\n\n  return {\n    slug: post.slug,\n    title: post.title,\n    excerpt: post.excerpt,\n    date: post.date,\n    readTime: calculateReadTime(post.content),\n    tags: post.tags,\n    content: post.content,\n    rawContent: generateRawMarkdown(post),\n  }\n}\n\nexport function getAllBlogs(): BlogPost[] {\n  return blogPosts\n    .map((post) => getBlogBySlug(post.slug))\n    .filter((blog): blog is BlogPost => blog !== null)\n    .sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime())\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAaA,SAAS,kBAAkB,OAAe;IACxC,MAAM,YAAY,QAAQ,KAAK,CAAC,OAAO,MAAM;IAC7C,MAAM,UAAU,KAAK,IAAI,CAAC,YAAY;IACtC,OAAO,GAAG,QAAQ,SAAS,CAAC;AAC9B;AAEA,SAAS,oBAAoB,IAAkB;IAC7C,OAAO,CAAC;QACF,EAAE,KAAK,KAAK,CAAC;UACX,EAAE,KAAK,OAAO,CAAC;OAClB,EAAE,KAAK,IAAI,CAAC;OACZ,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,CAAC,IAAM,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM;;;AAGnD,EAAE,KAAK,OAAO,EAAE;AAChB;AAEO,SAAS;IACd,OAAO,kIAAS,CAAC,GAAG,CAAC,CAAC,OAAS,KAAK,IAAI;AAC1C;AAEO,SAAS,cAAc,IAAY;IACxC,MAAM,OAAO,kIAAS,CAAC,IAAI,CAAC,CAAC,IAAM,EAAE,IAAI,KAAK;IAE9C,IAAI,CAAC,MAAM;QACT,OAAO;IACT;IAEA,OAAO;QACL,MAAM,KAAK,IAAI;QACf,OAAO,KAAK,KAAK;QACjB,SAAS,KAAK,OAAO;QACrB,MAAM,KAAK,IAAI;QACf,UAAU,kBAAkB,KAAK,OAAO;QACxC,MAAM,KAAK,IAAI;QACf,SAAS,KAAK,OAAO;QACrB,YAAY,oBAAoB;IAClC;AACF;AAEO,SAAS;IACd,OAAO,kIAAS,CACb,GAAG,CAAC,CAAC,OAAS,cAAc,KAAK,IAAI,GACrC,MAAM,CAAC,CAAC,OAA2B,SAAS,MAC5C,IAAI,CAAC,CAAC,GAAG,IAAM,IAAI,KAAK,EAAE,IAAI,EAAE,OAAO,KAAK,IAAI,KAAK,EAAE,IAAI,EAAE,OAAO;AACzE"}},
    {"offset": {"line": 403, "column": 0}, "map": {"version":3,"sources":["file:///home/ashish/Desktop/ashishkr.com/lib/markdown-to-html.tsx"],"sourcesContent":["import { remark } from \"remark\"\nimport html from \"remark-html\"\nimport remarkGfm from \"remark-gfm\"\n\nexport async function markdownToHtml(markdown: string): Promise<string> {\n  const result = await remark().use(remarkGfm).use(html, { sanitize: false }).process(markdown)\n\n  return result.toString()\n}\n\nexport function generateHtmlDocument(title: string, content: string): string {\n  return `<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>${title}</title>\n  <style>\n    * { box-sizing: border-box; }\n    body {\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;\n      line-height: 1.7;\n      max-width: 800px;\n      margin: 0 auto;\n      padding: 2rem;\n      color: #1a1a1a;\n      background: #fafafa;\n    }\n    h1 { font-size: 2.5rem; margin-bottom: 0.5rem; line-height: 1.2; }\n    h2 { font-size: 1.75rem; margin-top: 2rem; border-bottom: 1px solid #e5e5e5; padding-bottom: 0.5rem; }\n    h3 { font-size: 1.25rem; margin-top: 1.5rem; }\n    p { margin: 1rem 0; }\n    code {\n      background: #f0f0f0;\n      padding: 0.2em 0.4em;\n      border-radius: 4px;\n      font-size: 0.9em;\n    }\n    pre {\n      background: #1a1a1a;\n      color: #f0f0f0;\n      padding: 1rem;\n      border-radius: 8px;\n      overflow-x: auto;\n    }\n    pre code { background: none; padding: 0; }\n    blockquote {\n      border-left: 4px solid #e5e5e5;\n      margin: 1.5rem 0;\n      padding-left: 1rem;\n      color: #666;\n      font-style: italic;\n    }\n    a { color: #0066cc; }\n    img { max-width: 100%; height: auto; border-radius: 8px; }\n    ul, ol { padding-left: 1.5rem; }\n    li { margin: 0.5rem 0; }\n    table { border-collapse: collapse; width: 100%; margin: 1rem 0; }\n    th, td { border: 1px solid #e5e5e5; padding: 0.75rem; text-align: left; }\n    th { background: #f5f5f5; }\n    hr { border: none; border-top: 1px solid #e5e5e5; margin: 2rem 0; }\n  </style>\n</head>\n<body>\n  <article>\n    <h1>${title}</h1>\n    ${content}\n  </article>\n</body>\n</html>`\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;;;;AAEO,eAAe,eAAe,QAAgB;IACnD,MAAM,SAAS,MAAM,IAAA,2IAAM,IAAG,GAAG,CAAC,0JAAS,EAAE,GAAG,CAAC,2JAAI,EAAE;QAAE,UAAU;IAAM,GAAG,OAAO,CAAC;IAEpF,OAAO,OAAO,QAAQ;AACxB;AAEO,SAAS,qBAAqB,KAAa,EAAE,OAAe;IACjE,OAAO,CAAC;;;;;SAKD,EAAE,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QAiDT,EAAE,MAAM;IACZ,EAAE,QAAQ;;;OAGP,CAAC;AACR"}},
    {"offset": {"line": 486, "column": 0}, "map": {"version":3,"sources":["file:///home/ashish/Desktop/ashishkr.com/app/api/blog/download/route.ts"],"sourcesContent":["import { type NextRequest, NextResponse } from \"next/server\"\nimport { getBlogBySlug } from \"@/lib/blog\"\nimport { markdownToHtml, generateHtmlDocument } from \"@/lib/markdown-to-html\"\n\nexport async function GET(request: NextRequest) {\n  const searchParams = request.nextUrl.searchParams\n  const slug = searchParams.get(\"slug\")\n  const format = searchParams.get(\"format\") as \"html\" | \"md\"\n\n  if (!slug) {\n    return NextResponse.json({ error: \"Slug is required\" }, { status: 400 })\n  }\n\n  const blog = getBlogBySlug(slug)\n\n  if (!blog) {\n    return NextResponse.json({ error: \"Blog not found\" }, { status: 404 })\n  }\n\n  if (format === \"html\") {\n    const htmlContent = await markdownToHtml(blog.content)\n    const fullHtml = generateHtmlDocument(blog.title, htmlContent)\n\n    return new NextResponse(fullHtml, {\n      headers: {\n        \"Content-Type\": \"text/html\",\n        \"Content-Disposition\": `attachment; filename=\"${slug}.html\"`,\n      },\n    })\n  }\n\n  // Default to markdown\n  return new NextResponse(blog.rawContent, {\n    headers: {\n      \"Content-Type\": \"text/markdown\",\n      \"Content-Disposition\": `attachment; filename=\"${slug}.md\"`,\n    },\n  })\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,eAAe,IAAI,OAAoB;IAC5C,MAAM,eAAe,QAAQ,OAAO,CAAC,YAAY;IACjD,MAAM,OAAO,aAAa,GAAG,CAAC;IAC9B,MAAM,SAAS,aAAa,GAAG,CAAC;IAEhC,IAAI,CAAC,MAAM;QACT,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAmB,GAAG;YAAE,QAAQ;QAAI;IACxE;IAEA,MAAM,OAAO,IAAA,8HAAa,EAAC;IAE3B,IAAI,CAAC,MAAM;QACT,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAiB,GAAG;YAAE,QAAQ;QAAI;IACtE;IAEA,IAAI,WAAW,QAAQ;QACrB,MAAM,cAAc,MAAM,IAAA,kJAAc,EAAC,KAAK,OAAO;QACrD,MAAM,WAAW,IAAA,wJAAoB,EAAC,KAAK,KAAK,EAAE;QAElD,OAAO,IAAI,gJAAY,CAAC,UAAU;YAChC,SAAS;gBACP,gBAAgB;gBAChB,uBAAuB,CAAC,sBAAsB,EAAE,KAAK,MAAM,CAAC;YAC9D;QACF;IACF;IAEA,sBAAsB;IACtB,OAAO,IAAI,gJAAY,CAAC,KAAK,UAAU,EAAE;QACvC,SAAS;YACP,gBAAgB;YAChB,uBAAuB,CAAC,sBAAsB,EAAE,KAAK,IAAI,CAAC;QAC5D;IACF;AACF"}}]
}